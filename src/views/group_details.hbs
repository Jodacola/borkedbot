<html>

<head>
    <title>BorkedBot - {{group.name}} - Group Status</title>
    <link rel="stylesheet" href="/styles.css">
</head>

<body class="bg-gray-100">
    <header class="p-4 space-y-2 bg-white border-b border-gray-200 mb-2">
        <h1 class="text-2xl font-bold">{{group.name}} - Group Status</h1>
        <a href="/groups" class="inline-flex flex-row items-center gap-1 px-3 py-1 border-blue-300 border-1 rounded-md text-blue-500 hover:text-blue-700 text-xs"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
            </svg> All groups</a>
    </header>
    <main class="p-4 m-4 bg-white rounded-lg border border-gray-200">
        <table class="w-full">
            <thead>
                <tr class="[&>th]:pb-2 [&>th]:px-2">
                    <th class="text-left"><h2 class="text-xs font-bold text-gray-400">Project</h2></th>
                    <th><h2 class="text-xs font-bold text-gray-400">Default Branch Status</h2></th>
                    <th class="text-center"><h2 class="text-xs font-bold text-gray-400">Open Failing PRs</h2></th>
                </tr>
            </thead>
            <tbody>
                {{#each projectStates}}
                <tr class="[&>td]:py-2 hover:bg-gray-100 transition-colors duration-300">
                    <td class="pl-2">
                        <a href="/projects/{{this.externalId}}"
                            class="text-blue-500 hover:text-blue-700">{{this.projectName}}
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="{{this.url}}/commits/{{this.defaultBranchName}}" target="_blank">
                            {{#if this.defaultBranchStatus}}
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                                stroke="currentColor" class="h-6 w-6 stroke-[#00cf68] fill-[#d1ffe8] inline">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                            </svg>
                            {{else}}
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                                stroke="currentColor" class="h-6 w-6 inline stroke-[#ff6b46] fill-[#ffd9d0]">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                            </svg>
                            {{/if}}
                        </a>
                    </td>
                    <td class="text-center">
                        {{#eachMax this.failingPrs max=5}}<a href="{{../this.url}}/pull/{{this.number}}"
                            title="{{../this.projectName}}: PR #{{this.number}}" target="_blank"><svg
                                xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                                stroke="currentColor" class="size-6 inline stroke-[#ff6b46] fill-[#ffd9d0]">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                            </svg></a>{{/eachMax}}{{#if this.manyFailingPrs}}
                        <a href="/projects/{{this.externalId}}#failingPrs"
                            class="text-xs italic text-gray-500 cursor-pointer">
                            +{{this.remainingFailingPrs}} more</a>{{/if}}
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </main>
    <footer class="p-4 text-center text-gray-300 text-sm"><a href="https://github.com/Jodacola/borkedbot"
            target="_blank">BorkedBot Open
            Source Project</a></footer>

</html>